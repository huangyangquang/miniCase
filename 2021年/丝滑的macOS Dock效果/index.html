<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ä¸æ»‘çš„macOS Dockæ•ˆæœ</title>
	<style>
		html {
		  font-size: 15px;
		}

		body {
		  margin: 0;
		  padding: 0;
		  display: flex;
		  align-items: flex-end;
		  width: 100%;
		  min-height: 100vh;
		  overflow: hidden;
		  background-image: linear-gradient( 109.6deg,  rgba(25,170,209,1) 11.3%, rgba(21,65,249,1) 69.9% );
		}

		.glass {
		  width: 100%;
		  height: 8rem;
		  background: rgba( 255, 255, 255, 0.25 );
		  box-shadow: 0 8px 32px 0 rgba( 31, 38, 135, 0.37 );
		  backdrop-filter: blur( 4px ); 
		  -webkit-backdrop-filter: blur( 4px );
		  border: 1px solid rgba( 255, 255, 255, 0.18 );
		  display: flex;
		  justify-content: center;
		}

		.dock {
		  --scale: 1;
		  
		  list-style: none;
		  margin: 0;
		  padding: 0;
		  display: flex;
		  justify-content: center;
		  align-items: center;
		}

		.dock li {
		  font-size: calc(6rem * var(--scale)); /*å› ä¸ºè¡¨æƒ…ä½œä¸ºæ–‡æœ¬å…ƒç´ ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨font-sizeæ¥è®¾ç½®å¤§å°*/
		  padding: 0 .5rem;
		  cursor: default;
		  
		  position: relative;
		  top: calc((6rem * var(--scale) - 6rem) / 2 * -1);
		  
		  transition: 15ms all ease-out;
		}

		.dock li.loading {
		  animation: 1s loading ease-in infinite;
		}

		@keyframes loading {
		  0%, 100% {
		    transform: translateY(0px);
		  }
		  60% {
		    transform: translateY(-40px);
		  }
		}
	</style>
</head>
<body>
	<div class="glass">
		<ul class="dock">
			<li>ğŸ˜ƒ</li>
		    <li>ğŸ˜Š</li>
		    <li>ğŸ˜œ</li>
		    <li>ğŸ˜</li>
		    <li>ğŸ¤©</li>
		    <li>ğŸ¥³</li>
		    <li>ğŸ¥¶</li>
		</ul>
	</div>
	<script type="text/javascript">
		document.querySelectorAll('.dock li').forEach(li => {

		  // ç‚¹å‡»è¡¨æƒ…æ—¶ï¼ŒåŠ ä¸Šç±»åï¼šloading
		  li.addEventListener('click', e => {
		    e.currentTarget.classList.add('loading')
		  })
		  
		  // é¼ æ ‡åœ¨è¡¨æƒ…ä¸Šç§»åŠ¨æ—¶
		  li.addEventListener('mousemove', e => {
		    let item = e.target
		    // è®¡ç®—é¼ æ ‡åœ¨ç›®æ ‡å…ƒç´ å†…çš„æ°´å¹³æ–¹å‘ä¸Šçš„ä½ç½®ç™¾åˆ†æ¯”
		    let offset = getCursorPositionPercentage(e, item).x_Percentage
		    
		    let prev = item.previousElementSibling || null
		    let next = item.nextElementSibling || null
		    
		    let scale = 0.6
		    
		    resetScale()
		    
		    if (prev) { // å‰ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹çš„æ”¾å¤§å€æ•°
		      prev.style.setProperty('--scale', 1 + scale * Math.abs(offset - 1))
		    }
		    
		    // å½“å‰èŠ‚ç‚¹çš„æ”¾å¤§å€æ•°
		    item.style.setProperty('--scale', 1 + scale)
		    
		    if (next) { // åä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹çš„æ”¾å¤§å€æ•°
		      next.style.setProperty('--scale', 1 + scale * offset)
		    }
		  })
		})

		document.querySelector('.dock').addEventListener('mouseleave', e => {
		  resetScale()
		})

		function resetScale() {
		  document.querySelectorAll('.dock li').forEach(li => {
		    li.style.setProperty('--scale', 1)
		  })
		}




		/**
		 * [getCursorPositionPercentage è·å–é¼ æ ‡åœ¨æŸä¸ªå…ƒç´ å†…ï¼Œæ°´å¹³/å‚ç›´ä½ç½®ä¸Šï¼Œç›¸å¯¹äºè¯¥å…ƒç´ å…ƒç´ å¤§å°çš„ç™¾åˆ†æ¯”]
		 * @Author   huangfengquan-Joshua
		 * @DateTime 2021-05-05T01:46:13+0800
		 * @param    {[object]}                 e      [äº‹ä»¶æºå¯¹è±¡]
		 * @param    {[object]}                 target [é¼ æ ‡åœ¨å“ªä¸ªå…ƒç´ å†…ç§»åŠ¨]
		 * @return   {[object]}                        [é¼ æ ‡åœ¨targetå…ƒç´ å†…ï¼Œæ°´å¹³ã€å‚ç›´æ–¹å‘ä¸Šï¼Œç›¸å¯¹äºtargetå…ƒç´ å¤§å°çš„ç™¾åˆ†æ¯”ï¼›æ­£å¸¸å–å€¼åœ¨0-1ä¹‹é—´ï¼Œå¦‚æœé¼ æ ‡åœ¨å…ƒç´ ä¹‹å¤–ï¼Œåˆ™æ˜¯-1 æˆ–è€…äº‹ä»¶ä¸è§¦å‘]
		 */
		function getCursorPositionPercentage (e, target) {
			let item = target || e.target
		    let itemRect = item.getBoundingClientRect()
		    // è®¡ç®—é¼ æ ‡åœ¨ç›®æ ‡å…ƒç´ å†…çš„ æ°´å¹³/å‚ç›´ æ–¹å‘ä¸Šçš„ä½ç½®ç™¾åˆ†æ¯”
		    let x_Percentage = Math.abs(e.clientX - itemRect.left) / itemRect.width
		    let y_Percentage = Math.abs(e.clientY - itemRect.top) / itemRect.height

		    return {
		    	x_Percentage: x_Percentage > 1 || y_Percentage > 1 ? -1 : x_Percentage,
		    	y_Percentage: x_Percentage > 1 || y_Percentage > 1 ? -1 : y_Percentage
		    };
		}
	</script>
</body>@
</html>